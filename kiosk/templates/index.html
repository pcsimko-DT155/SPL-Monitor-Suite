{% extends 'base.html' %}

{% block style %}
<style>
  html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      width: 100%;
  }

  body {
      display: table;
  }
  
  .spl-display {
      font-size: 64px;
      text-align: center;
      display: table-cell;
      vertical-align: middle;
  }
</style>
{% endblock %}

{% block scripts %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.8.1/socket.io.min.js"></script>
<script type="text/javascript" charset="utf-8">
  $(document).ready(function(){
      var socket = io.connect('http://' + document.domain + ':' + location.port);

      socket.on('connect', function() {
          socket.emit('am up', {data: 'I\'m connected'});
      });
      socket.on('spl update', function(msg) {
          $('#spl-value').text(msg.data).html()
      });
  });
</script>
{% endblock %}

{% block body %}
<div class="spl-display" id='spl-value'></div>
<div class="spl-display">
  {{ text }}
</div>
{% endblock %}
